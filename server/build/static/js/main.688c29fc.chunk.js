(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){e.exports=a(48)},28:function(e,t,a){},30:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(20),r=a.n(l),c=(a(28),a(10)),o=a.n(c),u=a(21),m=a(2),i=a(3),d=a(5),p=a(4),h=a(7),v=a(6),E=(a(30),a(9)),f=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).state={name:"",email:""},e}return Object(v.a)(t,e),Object(i.a)(t,[{key:"handleName",value:function(e){this.setState({name:e})}},{key:"handleEmail",value:function(e){this.setState({email:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.email,l=this.props,r=l.postCustomer,c=l.message;return s.a.createElement("div",{className:"customer-form"},s.a.createElement("form",{onSubmit:function(e){e.preventDefault(),r(a,n)}},s.a.createElement("h1",null,s.a.createElement("span",null," Add A Customer")," ",s.a.createElement(E.b,null)),s.a.createElement("div",null,s.a.createElement("label",null,"Name"),s.a.createElement("input",{value:a,onChange:function(t){return e.handleName(t.target.value)}})),s.a.createElement("div",null,s.a.createElement("label",null,"Email"),s.a.createElement("input",{value:n,onChange:function(t){return e.handleEmail(t.target.value)}})),s.a.createElement("button",null,"Submit")),s.a.createElement("span",{style:{color:"#F26549",textShadow:"1px 1px 2px black"}},c))}}]),t}(n.Component),b=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).state={email:""},e}return Object(v.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.customers,n=t.deleteCustomer,l=t.updateCustomer,r=this.state.email,c=a.map(function(t){return s.a.createElement("div",{key:t._id,className:"customer"},s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("span",{className:"icon"},s.a.createElement(E.a,null)),s.a.createElement("div",null,s.a.createElement("span",null,"Name: ")," ",s.a.createElement("span",{className:"data"},t.name)),s.a.createElement("div",null,s.a.createElement("span",null,"Email: "),s.a.createElement("span",{className:"data"},t.email)),s.a.createElement("div",null,s.a.createElement("span",null,"Date Joined: "),s.a.createElement("span",{className:"data"},new Date(t.date_joined).toLocaleDateString()))),s.a.createElement("div",null,s.a.createElement("button",{onClick:function(){return n(t._id)}},"Delete"))),s.a.createElement("details",null,s.a.createElement("summary",null,"Update Customer Info"),s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("label",null,"New Email: "),s.a.createElement("input",{value:r,onChange:function(t){return e.setState({email:t.target.value})}})),s.a.createElement("button",{className:"update",onClick:function(){l(t._id,r),e.setState({email:""})}},"Update"))))});return s.a.createElement("div",{className:"customer-container"},s.a.createElement("h1",{style:{color:"#545454",margin:"5px 15px 10px",padding:"5px 0 15px 0",fontSize:"52px",borderBottom:"#545454 solid 2px"}},"Customer List"),c)}}]),t}(n.Component),C=a(8),g=a.n(C),j=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).state={customers:[],message:""},e.deleteCustomer=e.deleteCustomer.bind(Object(h.a)(e)),e.postCustomer=e.postCustomer.bind(Object(h.a)(e)),e.updateCustomer=e.updateCustomer.bind(Object(h.a)(e)),e}return Object(v.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getCustomers()}},{key:"getCustomers",value:function(){var e=this;g.a.get("/api/customer").then(function(t){e.setState({customers:t.data})}).catch(function(t){e.setState({message:t.response.data})})}},{key:"postCustomer",value:function(){var e=Object(u.a)(o.a.mark(function e(t,a){var n=this;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:g.a.post("/api/customer",{name:t,email:a}).then(function(e){n.setState({customers:e.data,message:""})}).catch(function(e){n.setState({message:e.response.data})});case 1:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"updateCustomer",value:function(e,t){var a=this;console.log(e,t),g.a.put("/api/customer/".concat(e,"?email=").concat(t)).then(function(e){a.setState({customers:e.data,message:""})}).catch(function(e){a.setState({message:e.response.data})})}},{key:"deleteCustomer",value:function(e){var t=this;g.a.delete("/api/customer/".concat(e)).then(function(e){t.setState({customers:e.data})}).catch(function(e){t.setState({message:e.response.data})})}},{key:"render",value:function(){var e=this.state,t=e.customers,a=e.message;return s.a.createElement("div",{className:"App"},s.a.createElement(f,{postCustomer:this.postCustomer,message:a}),s.a.createElement(b,{customers:t,deleteCustomer:this.deleteCustomer,updateCustomer:this.updateCustomer}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[22,1,2]]]);
//# sourceMappingURL=main.688c29fc.chunk.js.map